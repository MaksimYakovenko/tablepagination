<header>
  <mat-toolbar color="primary">
    <mat-toolbar-row>
      <a href="/"><img class="toolbar-logo" [src]="'assets/images/logo.png'" alt="image"></a>
      <span class="toolbar-name">Максим Яковенко</span>
      <span class="spacer"></span>
      <div class="theme-toggle-container">
        <input id="themeSwitcher" class="ThemeToggle" type="checkbox" [formControl]="toggleControl">
        <label>Темна тема</label>
      </div>
      <a href="https://github.com/MaksimYakovenko"><span class="github-icon"><i class="fa-brands fa-github"></i> Github</span></a>
    </mat-toolbar-row>
  </mat-toolbar>
</header>

<main>
  <div class="table-container">
    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" class="table-with-border" matSort (matSortChange)="announceSortChange($event)">
          <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns">
            <ng-container>
              <th mat-header-cell columnResize *matHeaderCellDef mat-sort-header sortActionDescription="Sort by topic" style="min-width: 150px;"> {{ column | translateHeaders }} </th>
              <td mat-cell columnResize *matCellDef="let element">
                <ng-container [ngSwitch]="column">

                  <ng-container *ngSwitchCase="'name'">
                    <ng-container *ngIf="element.isEdit">
                      <input type="text" [(ngModel)]="element.name" class="form-control"/>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      {{element.name}}
                    </ng-container>
                  </ng-container>

                  <ng-container *ngSwitchCase="'costs'">
                    <ng-container *ngIf="element.isEdit">
                      <input type="number" [(ngModel)]="element.costs" class="form-control"/>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      {{element.costs}}
                    </ng-container>
                  </ng-container>

                  <ng-container *ngSwitchCase="'symbol'">
                    <ng-container *ngIf="element.isEdit">
                      <input type="text" [(ngModel)]="element.symbol" class="form-control"/>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      {{element.symbol}}
                    </ng-container>
                  </ng-container>

                  <ng-container *ngSwitchCase="'date'">
                    <ng-container *ngIf="element.isEdit">
                      <mat-form-field>
                        <mat-label>Оберіть дату</mat-label>
                        <input matInput [matDatepicker]="picker" [(ngModel)]="element.date">
                        <mat-hint>DD.MM.YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      {{ formatDate(element.date) }}
                    </ng-container>
                  </ng-container>

                  <ng-container *ngSwitchCase="'agreed'">
                    <ng-container *ngIf="element.isEdit">
                      <mat-radio-group aria-label="Select an option" [(ngModel)]="element.agreed">
                        <mat-radio-button value="Погоджено">Погоджено</mat-radio-button>
                        <mat-radio-button value="Не погоджено">Не погоджено</mat-radio-button>
                      </mat-radio-group>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      {{element.agreed}}
                    </ng-container>
                  </ng-container>

                  <ng-container *ngSwitchCase="'edit'">
                    <ng-container *ngIf="element.isEdit">
                      <button class="btn btn-sm btn-success" style="margin-right: 10px;" (click)="element.isEdit=false">Оновити</button>
                      <button class="btn btn-sm btn-success" style="margin-right: 10px;" (click)="cancelEdit(element)">Закрити</button>
                    </ng-container>
                    <ng-container *ngIf="!element.isEdit">
                      <button class="btn btn-sm btn-success" style="margin-right: 10px;" (click)="editElement(element)">Редагувати</button>
                    </ng-container>
                  </ng-container>
                  <ng-container *ngSwitchDefault>
                    {{element[column]}}
                  </ng-container>
                </ng-container>
              </td>
            </ng-container>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[25, 50, 100]"
                       showFirstLastButtons="true"
                       aria-label="Select page of periodic elements">
        </mat-paginator>
      </div>
  </div>
</main>

<footer>
  <div class="row-container">
    <div class="footer-content">
      <div class="logo-container">
        <div class="licence">
          <p>2019 © TASCOMBANK.UA</p>
          <p>ЛІЦЕНЗІЯ НБУ №84 ВІД 25.10.2011</p>
          <p>2012 - 2032 © ТАСКОМБАНК</p>
        </div>
        <a href="https://sportbank.ua/"><img class="sportbank-logo" style="margin-bottom: 1px" [src]="'assets/images/sportbank_logo-xs.png'" alt="image"></a>
        <a href="https://izibank.com.ua/"><img class="izibank-logo" [src]="'assets/images/izibank.png'"></a>
        <a href="https://www.fg.gov.ua/"><img class="fund-logo" [src]="'assets/images/fund.png'"></a>
        <div class="funds">
          <p>Ваші кошти захищені Фондом</p>
          <p>гарантування вкладів фізичних осіб</p>
        </div>
      </div>
      <div class="footer-contact-info">
        <p>АТ «ТАСКОМБАНК»</p>
        <p>01032, м. Київ, вул. Симона Петлюри, буд. 30</p>
        <p>0 800 503 580 (безкоштовно з усіх телефонів)</p>
        <p>044 393 25 90 (згідно з тарифами Вашого оператора зв'язку)</p>
      </div>
      <ul class="footer-social-links">
        <li class="flex">
          <a href="https://www.facebook.com/tascombank"><i class="fab fa-facebook-f" style="margin-top: 6px"></i></a>
        </li>

        <li class="flex">
          <a href="https://twitter.com/tascombank"><i class="fa-brands fa-x-twitter" style="margin-top: 6px"></i></a>
        </li>

        <li class="flex">
          <a href="https://www.instagram.com/tascombank/"><i class="fab fa-instagram" style="margin-top: 6px"></i></a>
        </li>

        <li class="flex">
          <a href="https://tascombank.ua/"><i class="fab fa-google" style="margin-top: 6px"></i></a>
        </li>
      </ul>
      <hr>
      <br/>
      <small>ТАСКОМБАНК - РАЗОМ ЗМОЖЕМО ВСЕ!</small>
    </div>
  </div>
</footer>
